---
layout: wiki
wiki: Hackintool
order: 101
title: 相关基础知识
---

## 黑苹果镜像格式有哪些

### 黑苹果正式版

原版苹果系统安装程序+引导工具

- 此版本文件格式为dmg。与Mac上下载安装的应用程序以dmg结尾有区别。
- 前者可用压缩工具压缩，后者则不可以。
- 由于前者是经过第三方软件Mac OS X Lion DMG将原版苹果系统安装程序（例：macOS Sierra.app）和引导工具制作而成。
- 后者可能是Mac版的应用程序或只有原版苹果系统安装程序制作成的。
- 目前主流的引导工具有Clover和OpenCore。

### 黑苹果恢复版

备份的MacOS 系统

- 其原理是把全新安装的MacOS做了个系统备份，然后恢复这个备份到其他电脑上，安装门槛较低。
- 如果你选择了此方法安装MacOS，必须找到适合自己机型安装的MacOS版本的EFI文件。
  - 注意：适合某机型安装某版本的MacOS的EFI文件是要实机安装才有的。
  - 要实现一个完美的黑苹果是必须安装成功之后又要调试各个驱动。
  - 如果你找到了安装某个版本的macOS的完美EFI文件，用哪种镜像安装都可以。
- 此方法我也称它为硬盘安装，在Windows通过第三方软件把磁盘格式转换为Apple HFS。然后把苹果的镜像写入硬盘内，涉及的软件为Paragon Hard Disk Manager。90%的流程在Windows下完成。
- 此版本没有U盘安装说法此版是由一个压缩包下的一个文件夹下有.prf，.pfi，.pfm结尾的文件组成。

### 虚拟机镜像

懒人版CDR格式

- 可以在其他系统下安装相关虚拟机软件安装的一直格式。在Windows我们一般用VMware workstations，在Mac我们一般用VMware Fusion for Mac。
- 但在Windows下我们会发现创建虚拟机时并没有MacOS的机型选择，这是我们就需要用到Unlock解锁插件。
  - Unlock可以到GitHub上查找，或到软件安装管家的MacOS专栏处查找。

### 官方原版

原版苹果系统安装程序

- 此版本文件格式为dmg。
- 经过第三方软件Mac OS X Lion DMG将原版苹果系统安装程序（例：macOS Sierra.app）制作而成。
  - 注意：没有引导。
- 原版的dmg文件用刻录工具刻入不了的，会提示你这不是一个可引导的映像，原因是不包含分区表。

## 黑苹果磁盘安装类型

### 分区安装

- 如果在你选择要安装MacOS的盘上有ESP/EFI分区，就无须创建了，只要把适合自己机型安装MacOS的EFI文件复制一份到该盘的ESP/EFI分区下就可以。
- 用启动项引导工具为即将安装的MacOS添加启动项，工具有EasyEFI等。
- 如果在你选择要安装MacOS的盘上没有ESP/EFI分区，那得先创建ESP/EFI分区，由于磁盘不能有小于200M的分区，EFI分区得大于200M。创建ESP/EFI分区用到的工具有DiskGenius。

### 全盘安装
- 删除磁盘所有分区，变成一个全新未分配的磁盘即可。
  - 注意：如果恢复版选择全盘安装，也得先创建ESP/EFI分区。
  - 注意：磁盘的格式最好把mbr转换为gpt(GUID)。虽说现在有mbr磁盘引导的黑苹果。

## 黑苹果安装方式
### U盘安装
- 制作U盘启动盘，用刻录工具将黑苹果的镜像刻录进U盘。刻录工具有TransMac，etcher。
- 制作黑苹果的U盘启动盘最好把U盘分区格式转换为gpt。

### 硬盘启动
- 此启动方式只适合黑苹果恢复版

## 磁盘的分区格式有哪些？
### MBR（主引导记录）
- MBR是IBM公司早年间提出的。它是存在于磁盘驱动器开始部分的一个特殊的启动扇区。这个扇区包含了已安装的操作系统系统信息，并用一小段代码来启动系统。
- 如果你安装了Windows，其启动信息就放在这一段代码中——如果MBR的信息损坏或误删就不能正常启动Windows，这时候你就需要找一个引导修复软件工具来修复它就可以了。
- Linux系统中MBR通常会是GRUB加载器。MBR。当一台电脑启动时，它会先启动主板自带的BIOS系统，bios加载MBR，MBR再启动Windows，这就是mbr的启动过程。

### GPT（全局唯一标识磁盘分区表）
- GPT是另外一种更加先进新颖的磁盘组织方式，一种使用UEFI启动的磁盘组织方式。
- 最开始是为了更好的兼容性，后来因为其更大的支持内存（mbr分区最多支持2T的磁盘），更多的兼容而被广泛使用，特别是苹果的MAC系统全部使用gpt分区。
- gtp不在有分区的概念，所有CDEF盘都在一段信息中存储。可以简单的理解为更先进但是使用不够广泛的技术。因为兼容问题，gpt其实在引导的最开始部分也有一段mbr引导，也叫做“保护引导”，为了防止设备不支持uefi。
  - 注意：在安装双操作系统时应该先考虑磁盘的分区格式。

## 安装黑苹果的EFI文件有哪些？
### 默认的EFI文件
- 黑苹果正式版镜像集成的安装统配方案。
- 默认的EFI文件，是支持大多数机型可以顺利安装黑苹果的。只是一些驱动问题没有解决。这个得自己慢慢找方法解决。
  - 此时安装成功的黑苹果机型只能说是个架子，操作系统和你的硬件联系不起来。如果黑苹果正式版的某个版本的默认EFI文件你选择安装时总是出错，可以试一试黑苹果正式版的最新版本的默认EFI文件。

### 完美的EFI文件
- 完美EFI文件指有黑果爱好者大神，针对指定机型·配置进行自己调试解决大多驱动问题的成品。
- 这种EFI文件一般可以无脑安装指定系统版本，对小白来说简直是福利！
- 如果他乐于分享，把自己机型的EFI文件分享给论坛，那么有和他相同机型电脑的小白就可以安装较完美黑苹果了（注意使用的黑苹果版本）。
  - 这类缺点，须严格按照教程指导进行，刷bios，设置bios，以及系统版本。
  - 如果你不回二次完善，请勿好高骛远！

## 制作完黑苹果的U盘启动盘如何恢复为原始U盘
### 用Windows系统里有个自带的Diskpart程序解决

1. 打开cmd，输入diskpart
2. 输入list disk,用于查看磁盘
3. 输入select disk 序列号，U盘的序列号是几号就输几号
4. 输入clean，清除U盘内容
5. 接着回到磁盘管理信息查看U盘，显示未分配，点击新建卷U盘就可以正常使用了。
6. 建议不熟练使用DiskGenius工具者警惕使用DiskGenius。

## 安装黑苹果老版本，安装过程出现“应用程序副本已损坏，不能用来安装macOS”怎么办
这个不是镜像本身的问题，是由于镜像的证书过期，苹果没有更新证书日期导致的。
解决方法：
第一步：断开网络
第二步：在使用工具里打开终端，修改时间
输入该版本的发布时间即可。例：date 0101010116。修改时间为2016年。